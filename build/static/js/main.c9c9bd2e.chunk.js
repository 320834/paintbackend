(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t,a){e.exports=a(338)},138:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},332:function(e,t){},337:function(e,t,a){},338:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(127),c=a.n(l),s=(a(138),a(12)),i=a(13),r=a(18),d=a(17),u=a(19),m=(a(49),a(50),a(32),a(51),a(140),a(141),a(128)),h=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={color:"#000000"},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"lineWidthDiv"},o.a.createElement("h6",{className:"lineWidthHeader"},"Brush Size: "),o.a.createElement("select",{onChange:this.props.onClickSize},o.a.createElement("option",{value:"4"},"4px"),o.a.createElement("option",{value:"6"},"6px"),o.a.createElement("option",{value:"8"},"8px"),o.a.createElement("option",{value:"10"},"10px"),o.a.createElement("option",{value:"12"},"12px"),o.a.createElement("option",{value:"16"},"16px"),o.a.createElement("option",{value:"20"},"20px"),o.a.createElement("option",{value:"30"},"30px"))),o.a.createElement("br",null),o.a.createElement(m.SketchPicker,{color:this.props.color,width:140,onChangeComplete:this.props.onColorChange}))}}]),t}(o.a.Component),p=a(130),v=a(20),g=a(129),f=a.n(g),b=function(){function e(t){Object(s.a)(this,e),this.socketID=t,this.x=[],this.y=[],this.paint=!1}return Object(i.a)(e,[{key:"push",value:function(e,t){this.x.push(e),this.y.push(t)}},{key:"clear",value:function(){this.x=[],this.y=[]}},{key:"setPaintTrue",value:function(){this.paint=!0}},{key:"setPaintFalse",value:function(){this.paint=!1}}]),e}(),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(d.a)(t).call(this,e))).state={paint:!1,canvasHeight:5e3,canvasWidth:5e3,strokeStyle:"#000000",linewidth:4,positionX:[],positionY:[],stroke:!0,socket:f()(a.props.ip),pageUrl:"http://"+a.props.ip,users:0,connectedSockets:null},a.updateDimensions=function(){},a.saveDataDraw=function(e,t){for(var a=0;a<e.length;a++){t.strokeStyle=e[a].color,t.lineJoin="round",t.lineWidth=e[a].linewidth;for(var n=1;n<e[a].x.length||n<e[a].y.length;n++)t.beginPath(),t.moveTo(e[a].x[n-1],e[a].y[n-1]),t.lineTo(e[a].x[n],e[a].y[n]),t.closePath(),t.stroke()}},a.handleClick=function(e){if(a.state.stroke){var t=a.canvas.current.getContext("2d"),n=e.clientX-a.canvas.current.getBoundingClientRect().x,o=e.clientY-a.canvas.current.getBoundingClientRect().y;t.fillStyle=a.state.strokeStyle,t.beginPath(),t.arc(n,o,a.state.linewidth/2,0,2*Math.PI),t.closePath(),t.fill(),a.state.socket.emit("mouseClick",[n,o,a.state.strokeStyle,a.state.linewidth])}else a.state.fill},a.handleClickReceive=function(e,t,n,o){var l=a.canvas.current.getContext("2d");l.fillStyle=n,l.beginPath(),l.arc(e,t,o/2,0,2*Math.PI),l.closePath(),l.fill()},a.fillFuncHelper=function(e,t){var n=a.canvas.current.getContext("2d"),o=n.getImageData(e,t,2,2),l=a.hexToRGB(a.state.strokeStyle),c=o.data;n.fillStyle=l,a.fillFunc(e,t,l,c,n)},a.fillFunc=function(e,t,n,o,l){var c=l.getImageData(e,t,2,2);e<0||e>1e3||t<0||t>800||c.data[0]===n[0]&&c.data[1]===n[1]&&c.data[2]===n[2]||(l.fillRect(e,t,2,2),a.fillFunc(e+2,t,n,o,l),a.fillFunc(e,t+2,n,o,l),a.fillFunc(e-2,t,n,o,l),a.fillFunc(e,t-2,n,o,l))},a.drawFunction=function(e,t){var n=a.canvas.current.getContext("2d");n.strokeStyle=a.state.strokeStyle,n.lineJoin="round",n.lineWidth=a.state.linewidth,n.beginPath(),n.moveTo(a.state.positionX[a.state.positionX.length-2],a.state.positionY[a.state.positionY.length-2]),n.lineTo(a.state.positionX[a.state.positionX.length-1],a.state.positionY[a.state.positionY.length-1]),n.closePath(),n.stroke()},a.drawFunctionRecieving=function(e,t,n,o){var l=a.canvas.current.getContext("2d");l.strokeStyle=t,l.lineJoin="round",l.lineWidth=n,l.beginPath(),l.moveTo(o.x[o.x.length-2],o.y[o.y.length-2]),l.lineTo(o.x[o.x.length-1],o.y[o.y.length-1]),l.closePath(),l.stroke()},a.handleMouseDown=function(e){a.state.paint||a.state.socket.emit("mouseDown",a.state.socket.id),a.state.stroke&&a.setState({paint:!0})},a.handleMouseMove=function(e){if(a.state.stroke&&a.state.paint){var t=e.clientX-a.canvas.current.getBoundingClientRect().x,n=e.clientY-a.canvas.current.getBoundingClientRect().y,o=a.state.positionX,l=a.state.positionY;o.push(t),l.push(n),a.state.socket.emit("draw",[t,n,a.state.strokeStyle,a.state.linewidth]),a.setState({positionX:o}),a.setState({positionY:l}),a.state.positionX.length>1&&a.state.positionY.length>1&&a.drawFunction(t,n)}},a.handleMouseUp=function(e){if(a.state.stroke){a.setState({paint:!1});var t={x:a.state.positionX,y:a.state.positionY,linewidth:a.state.linewidth,color:a.state.strokeStyle};fetch(a.state.pageUrl+"/postdata",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){}).then(function(e){}),a.setState({positionX:[]}),a.setState({positionY:[]})}a.state.paint&&a.state.socket.emit("mouseUp",a.state.socket.id)},a.handleClear=function(){a.canvas.current.getContext("2d").fillStyle="white",a.canvas.current.getContext("2d").fillRect(0,0,a.state.canvasWidth,a.state.canvasHeight),a.state.socket.emit("clear",a.state.socket.id);fetch(a.state.pageUrl+"/clearPost",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({clear:!0})}).then(function(e){return e.json()}).then(function(e){}),a.setState({positionX:[]}),a.setState({positionY:[]})},a.handleClearReceive=function(){a.canvas.current.getContext("2d").fillStyle="white",a.canvas.current.getContext("2d").fillRect(0,0,a.state.canvasWidth,a.state.canvasHeight)},a.handleColorChange=function(e){a.setState({strokeStyle:e.hex})},a.hoverSketch=function(e,t){},a.toggleStroke=function(){a.setState({stroke:!0,fill:!1})},a.toggleFill=function(){a.setState({stroke:!1,fill:!0})},a.toggleSize=function(e){a.setState({linewidth:e.target.value})},a.hexToRGB=function(e){var t=e.charAt(1)+e.charAt(2),a=e.charAt(3)+e.charAt(4),n=e.charAt(5)+e.charAt(6);return[t=parseInt(t,16),a=parseInt(a,16),n=parseInt(n,16)]},a.changeScroll=function(e){a.bottomScroll.current.scrollLeft=a.topScroll.current.scrollLeft},a.getToolComp=function(){return o.a.createElement(h,{onClearClick:a.handleClear,onClickStroke:a.toggleStroke,onClickFill:a.toggleFill,onClickSize:a.toggleSize,onColorChange:a.handleColorChange,color:a.state.strokeStyle})},a.canvas=o.a.createRef(),a.bottomScroll=o.a.createRef(),a.topScroll=o.a.createRef(),a.tools=o.a.createRef(),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({connectedSockets:new Map});var t=this.canvas.current.getContext("2d");t.fillStyle="white",t.fillRect(0,0,this.state.canvasWidth,this.state.canvasHeight),fetch(this.state.pageUrl+"/getdata").then(function(e){return e.json()}).then(function(a){e.saveDataDraw(a,t)}),window.addEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this;this.state.socket.on("socketConnect",function(t){for(var a=0;a<t.length;a++)e.state.connectedSockets.has(t[a])||(e.state.connectedSockets.set(t[a],new b(t[a])),e.setState({users:e.state.connectedSockets.size}),console.log("Connect: "+e.state.connectedSockets.size),console.log(e.state.connectedSockets))}),this.state.socket.on("drawReceive",function(t){if(t[0]!==e.state.socket.id){var a=e.state.connectedSockets.get(t[0]);a&&(a.x.push(t[1]),a.y.push(t[2]),e.drawFunctionRecieving(t[0],t[3],t[4],a))}}),this.state.socket.on("mouseDownReceive",function(t){if(t!==e.state.socket.id){var a=e.state.connectedSockets.get(t);null!=a&&a.setPaintTrue()}}),this.state.socket.on("mouseUpReceive",function(t){if(t!==e.state.socket.id){var a=e.state.connectedSockets.get(t);null!=a&&(a.x=[],a.y=[],a.setPaintFalse())}}),this.state.socket.on("clearReceive",function(t){t!==e.state.socket.id&&e.handleClearReceive()}),this.state.socket.on("mouseClickReceive",function(t){t[0]!==e.state.socket.id&&e.handleClickReceive(t[1],t[2],t[3],t[4])}),this.state.socket.on("disconnectUser",function(t){e.state.connectedSockets.delete(t),console.log("Disconnect. Size: "+e.state.connectedSockets.size),console.log(e.state.connectedSockets),e.setState({users:e.state.connectedSockets.size})});var t={width:this.state.canvasWidth,height:"1px"};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{class:"contain"},o.a.createElement("div",{className:"Canvas"},o.a.createElement("div",{onScroll:this.changeScroll,className:"topScroll",ref:this.topScroll},o.a.createElement("div",{style:t})),o.a.createElement("div",{className:"canvasWrapper",ref:this.bottomScroll},o.a.createElement("canvas",{onClick:this.handleClick,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,height:this.state.canvasHeight,width:this.state.canvasWidth,className:"canvas",ref:this.canvas}))),o.a.createElement("div",{class:"tools",ref:this.tools},o.a.createElement("h6",null,"Online Users: ",this.state.users>0?this.state.users-1:0),o.a.createElement("br",null),o.a.createElement(p.a,null,o.a.createElement(v.a,{exact:!0,path:"/",component:this.getToolComp})))))}}]),t}(o.a.Component),E=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).onClickAbout=function(){alert("Stuff")},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},o.a.createElement("a",{class:"navbar-brand",href:""},"Paint App"),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},o.a.createElement("ul",{className:"navbar-nav aboutDiv"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"aboutDiv nav-link","data-toggle":"modal","data-target":"#exampleModal",href:""},"About")))),o.a.createElement("div",{class:"modal fade",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{class:"modal-dialog",role:"document"},o.a.createElement("div",{class:"modal-content"},o.a.createElement("div",{class:"modal-header"},o.a.createElement("h5",{class:"modal-title",id:"exampleModalLabel"},"About"),o.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{class:"modal-body"},o.a.createElement("p",null,"Real Time Paint Application"),o.a.createElement("p",null,"Frontend: React"),o.a.createElement("p",null,"Backend: Express"),o.a.createElement("p",null,"Libraries Used:",o.a.createElement("br",null),"1. Bootstrap",o.a.createElement("br",null),"2. React-Router"),o.a.createElement("p",null,"Source Code: ",o.a.createElement("br",null),"https://github.com/320834/PaintApp ",o.a.createElement("a",null)),o.a.createElement("p",null,"Color Picker: ",o.a.createElement("br",null),o.a.createElement("a",null,"https://github.com/casesandberg/react-color/"))),o.a.createElement("div",{class:"modal-footer"},o.a.createElement("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Close"))))))}}]),t}(o.a.Component),y=(a(337),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(d.a)(t).call(this,e))).state={welcomeText:"",ip:"173.72.102.109:3001"},a.welcomeDiv=function(){return o.a.createElement("div",{class:"modal fade",id:"exampleModalCenter",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},o.a.createElement("div",{class:"modal-dialog modal-dialog-centered",role:"document"},o.a.createElement("div",{class:"modal-content"},o.a.createElement("div",{class:"modal-header"},o.a.createElement("h5",{class:"modal-title",id:"exampleModalLongTitle"},"Welcome"),o.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{class:"modal-body"},"..."),o.a.createElement("div",{class:"modal-footer"},o.a.createElement("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Close"),o.a.createElement("button",{type:"button",class:"btn btn-primary"},"Save changes")))))},a.componentDidMount=function(){window.innerWidth<500?(a.setState({welcomeText:"We apologize for the inconvience. Phone functionality has not been fully implemented. Please use a personal computer"}),a.welcomeButton.current.click()):(a.setState({welcomeText:"Please draw anything in the background. Your strokes are displayed real time to other connected users to see."}),a.welcomeButton.current.click())},a.welcomeText=function(){return o.a.createElement("p",null,"Welcome to my real-time paint application.",o.a.createElement("br",null),o.a.createElement("br",null),a.state.welcomeText)},a.welcomeButton=o.a.createRef(),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"totalBody"},o.a.createElement(E,null),o.a.createElement(k,{ip:this.state.ip})),o.a.createElement("button",{type:"button",className:"welcomeButton","data-toggle":"modal","data-target":"#exampleModalCenter",ref:this.welcomeButton},"Launch demo modal"),o.a.createElement("div",null,o.a.createElement("div",{class:"modal fade",id:"exampleModalCenter",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},o.a.createElement("div",{class:"modal-dialog modal-dialog-centered",role:"document"},o.a.createElement("div",{class:"modal-content"},o.a.createElement("div",{class:"modal-header"},o.a.createElement("h5",{class:"modal-title",id:"exampleModalLongTitle"},"Hello"),o.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{class:"modal-body"},this.welcomeText()),o.a.createElement("div",{class:"modal-footer"},o.a.createElement("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Close")))))))}}]),t}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[133,1,2]]]);
//# sourceMappingURL=main.c9c9bd2e.chunk.js.map